local a=require("cc.expect")local b=require(settings.get("ghu.base").."core/apis/ghu")local c=require("am.core")local d={}function d.getTextColor(e)local f=c.split(e,":")local g=nil;if#f==2 then if string.lower(f[1])=="error"then g=colors.red;e=f[2]elseif string.lower(f[1])=="warning"then g=colors.yellow;e=f[2]elseif string.lower(f[1])=="success"then g=colors.green;e=f[2]elseif string.lower(f[1])=="info"then g=colors.blue;e=f[2]end end;return e,g end;function d.write(h,e,i,j)if type(h)~="table"then j=i;i=e;e=h;h=term end;a.expect(1,h,"table")a.expect(2,e,"string")a.expect(3,i,"number","nil")a.expect(4,j,"number","nil")local k,l=h.getCursorPos()local m=h.getTextColor()if i==nil then i=k end;if j==nil then j=l end;local n,g=d.getTextColor(e)h.setCursorPos(i,j)if g~=nil then h.setTextColor(g)end;h.write(n)h.setTextColor(m)h.setCursorPos(k,l)end;function d.center(h,e,j,o)if type(h)~="table"then j=e;e=h;h=term end;a.expect(1,h,"table")a.expect(2,e,"string")a.expect(3,j,"number","nil")a.expect(4,o,"boolean","nil")local k,l=h.getCursorPos()local m=h.getTextColor()local p,q=h.getSize()if j==nil then j=l end;if o==nil then o=true end;local n,g=d.getTextColor(e)if o then h.setCursorPos(1,j)h.clearLine()h.setCursorPos(k,l)end;d.write(h,e,(p-#n)/2,j)end;return d
