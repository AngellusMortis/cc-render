local a=require("cc.expect")local b=require("ext.object")local c=require("am.ui.const")local d=require("am.core")local function e(f)a.expect(1,f,"table")if f._frameScreenRef~=nil and type(f._frameScreenRef)=="table"then f=f._frameScreenRef end;return f end;local function g(h,i)a.expect(1,h,"string")a.expect(2,i,"table")return b.has(i,h)~=false end;local function j(f)a.expect(1,f,"table")return f.redirect~=nil and f.current~=nil end;local function k(f)a.expect(1,f,"table")local l=getmetatable(f)if l==nil then return false end;return l.__name=="peripheral"and l.type=="monitor"end;local function m(f)a.expect(1,f,"table")f=e(f)return g("am.ui.FrameScreen",f)end;local function n(f)return j(f)or k(f)or m(f)end;local function o(f)if not n(f)then error("Not a terminal, monitor or frame")end end;local function p(i)a.expect(1,i,"table")return g("am.ui.b.UIObject",i)end;local function q(i)a.expect(1,i,"table")return g("am.ui.Screen",i)end;local function r(i)a.expect(1,i,"table")return g("am.ui.a.Anchor",i)end;local function s(i)a.expect(1,i,"table")return g("am.ui.b.ScreenPos",i)end;local function t(u,...)local u,v=d.cleanEventArgs(u,...)a.expect(1,u,"string")local f=nil;if c.l.Events.Terminal[u]then f=term elseif c.l.Events.Monitor[u]then f=peripheral.getName(v[1])end;return f end;local function w(x,y)a.expect(1,x,"table")a.expect(2,y,"table","nil")if y==nil then return false end;local z=false;if j(x)and j(y)then z=true elseif k(x)and k(y)then z=peripheral.getName(x)==peripheral.getName(y)elseif m(x)and m(y)then x=e(x)y=e(y)z=x.id==y.id end;return z end;local function A(B,C,D)a.expect(1,B,"number","nil")a.expect(2,C,"number","nil")a.expect(3,D,"number","nil")if B~=nil then return B elseif C~=nil then return C elseif D~=nil then return D end;error("Could not determine color")end;local function E(f,F,G,H,I,J)f.setCursorPos(F.x,F.y)f.setTextColor(I)f.setBackgroundColor(J)f.write("\x9f"..string.rep("\x8f",G-2))f.setTextColor(J)f.setBackgroundColor(I)f.write("\x90")for K=1,H-2,1 do f.setCursorPos(F.x,F.y+K)f.setTextColor(I)f.setBackgroundColor(J)f.write("\x95")f.setCursorPos(F.x+G-1,F.y+K)f.setTextColor(J)f.setBackgroundColor(I)f.write("\x95")end;f.setCursorPos(F.x,F.y+H-1)f.setTextColor(J)f.setBackgroundColor(I)f.write("\x82"..string.rep("\x83",G-2).."\x81")end;local function L(f,F,G,H,I,J)f.setCursorPos(F.x,F.y)f.setTextColor(I)f.setBackgroundColor(J)f.write(string.rep("\x83",G))for K=1,H-1,1 do f.setCursorPos(F.x,F.y+K)f.setTextColor(I)f.setBackgroundColor(J)f.write(" ")f.setCursorPos(F.x+G-1,F.y+K)f.setTextColor(I)f.setBackgroundColor(J)f.write(" ")end;f.setCursorPos(F.x,F.y+H-1)f.setTextColor(J)f.setBackgroundColor(I)f.write(string.rep("\x8f",G))end;local function M(f,F,G,H,J)f.setBackgroundColor(J)f.setCursorPos(F.x,F.y)f.write(string.rep(" ",G))for K=1,H-2,1 do f.setCursorPos(F.x,F.y+K)f.write(" ")f.setCursorPos(F.x+G-1,F.y+K)f.write(" ")end;f.setCursorPos(F.x,F.y+H-1)f.write(string.rep(" ",G))end;local N={}N.isTerm=j;N.isMonitor=k;N.getFrameScreen=e;N.isFrameScreen=m;N.isOutput=n;N.requireOutput=o;N.getEventOutput=t;N.is=g;N.isUIObject=p;N.isSameScreen=w;N.isUIScreen=q;N.isAnchor=r;N.isPos=s;N.getColor=A;N.renderBorder1=E;N.renderBorder2=L;N.renderBorder3=M;return N
