local a=require(settings.get("ghu.base").."core/apis/ghu")a.initModulePaths()local b;if arg[1]~=nil then if arg[1]=="term"then b=term else b=peripheral.wrap(arg[1])end else b=term end;local c=require("am.ui")local d,e=b.getSize()local f=0;local g=c.UILoop()local h=c.Screen(b,{textColor=colors.white,backgroundColor=colors.black})h:add(c.Frame(c.a.TopLeft(),{width=math.floor(d/2),fillVertical=true,fillColor=colors.lightGray,id="leftFrame"}))local i=c.Frame(c.a.TopRight(),{width=math.floor(d/2),fillVertical=true,id="rightFrame"})i.borderColor=nil;i:add(c.Text(c.a.Top(),"Event"))i:add(c.Text(c.a.Center(2),"",{id="eventText"}))i:add(c.Text(c.a.Center(3),"",{id="eventArgsText"}))local j=c.Button(c.a.Center(8),string.format("Disabled (%d)",f),{fillColor=colors.blue,disabled=true,id="disabledButton"})i:add(j)local k=c.Button(c.a.Center(5,c.c.Offset.Left),"Add",{fillColor=colors.green,id="addButton"})k:addActivateHandler(function(l,m)f=f+1;j:updateLabel(m,string.format("Disabled (%d)",f))end)i:add(k)local n=c.Button(c.a.Center(5,c.c.Offset.Right),"Remove",{fillColor=colors.yellow,textColor=colors.black,id="removeButton"})n:addActivateHandler(function(l,m)f=math.max(0,f-1)j:updateLabel(m,string.format("Disabled (%d)",f))end)i:add(n)local o=c.Button(c.a.Bottom(),"Exit",{id="exitButton",fillColor=colors.red})o:addActivateHandler(function()g:cancel()end)i:add(o)h:add(i)local function p()h:render()g:run(h)end;local function q()while g.running do local r=os.startTimer(5)local s={os.pullEvent()}if c.c.l.Events.UI[s[1]]then local t,u=h:get("eventText")local v,w=h:get("eventArgsText")if s[1]==c.c.e.Events.loop_cancel then t:update(u,s[1])v:update(w,"")elseif s[1]==c.c.e.Events.button_activate then t:update(u,s[1])v:update(w,string.format("%s: %s",s[2].objId,s[2].touch))elseif s[1]==c.c.e.Events.button_deactivate then t:update(u,s[1])v:update(w,s[2].objId)elseif s[1]~=c.c.e.Events.text_update then local x=s[2]t:update(u,s[1])v:update(w,string.format("%s: %d, %d",x.objId,x.x,x.y))end end;os.cancelTimer(r)end end;parallel.waitForAll(p,q)b.clear()b.setCursorPos(1,1)
